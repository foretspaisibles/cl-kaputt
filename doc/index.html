<!DOCTYPE html> <html lang="EN"> <head> <meta charset="utf-8"> <title>Kaputt</title> <style>html body{margin:0 auto 0 auto;padding:20px;max-width:1024px;font-family:sans-serif;font-size:14pt;overflow-y:scroll;}html body a{text-decoration:none;}html body a[href]{color:#0055AA;}html body a[href]:hover{color:#0088EE;}html body pre{background:#FAFAFA;border:1px solid #DDDDDD;padding:0.75em;overflow-x:auto;}html body pre >code a[href]{color:#223388;}article.project h1{font-size:1.7em;}article.project h1,article.project h2,article.project h3,article.project h4,article.project h5,article.project h6{margin:0.2em 0 0.1em 0;text-indent:1em;}article.project >header{text-align:center;}article.project >header img.logo{display:block;margin:auto;max-height:170px;}article.project >header h1{display:inline-block;text-indent:0;font-size:2.5em;}article.project >header .version{vertical-align:bottom;}article.project >header .languages{margin-top:-0.5em;text-transform:capitalize;}article.project >header .description{margin:0;}article.project >header .pages{margin-top:0.5em;font-size:1.2em;text-transform:capitalize;}article.project >header .pages a{display:inline-block;padding:0 0.2em;}article.project >section{margin:1em 0 1em 0;}article.project #index >ul{list-style:none;margin:0;padding:0;}article.project .row label{display:inline-block;min-width:8em;}article.project #system .row{display:flex;}article.project #system #dependencies{display:inline;margin:0;padding:0;}article.project #system #dependencies li{display:inline;padding:0 0.2em;}article.definition{margin:1em 0 0 0;}article.definition >header h1,article.definition >header h2,article.definition >header h3,article.definition >header h4,article.definition >header h5,article.definition >header h6{text-indent:0;display:inline-block;}article.definition >header ul{display:inline-block;list-style:none;margin:0;padding:0;}article.definition >header ul li{display:inline-block;padding:0 0.2em 0 0;}article.definition >header .visibility{display:none;}article.definition >header .visibility,article.definition >header .type{text-transform:lowercase;}article.definition >header .source-link{visibility:hidden;float:right;}article.definition >header .source-link:after{visibility:visible;content:"[SRC]";}article.definition .docstring{margin:0 0 0 1em;}article.definition .docstring pre{font-size:0.8em;white-space:pre-wrap;}.definition.package >header ul.nicknames{display:inline-block;list-style:none;margin:0;padding:0 0 0 1em;}.definition.package >header ul.nicknames li{display:inline;}.definition.package >header ul.nicknames:before{content:"(";}.definition.package >header ul.nicknames:after{content:")";}.definition.package ul.definitions{margin:0;list-style:none;padding:0 0 0 0.5em;}.definition.callable >header .name:before,.definition.type >header .name:before{content:"(";font-weight:normal;}.definition.callable >header .arguments:after,.definition.type >header .arguments:after{content:")";}.definition.callable >header .arguments .arguments:before,.definition.type >header .arguments .arguments:before{content:"(";}.definition.callable >header .arguments .argument,.definition.type >header .arguments .argument{padding:0;}.definition.callable >header .arguments .argument.lambda-list-keyword,.definition.type >header .arguments .argument.lambda-list-keyword{color:#991155;}.definition li>mark{background:none;border-left:0.3em solid #0088EE;padding-left:0.3em;display:block;} </style> </head> <body> <article class="project"> <header>  <h1>kaputt</h1>  <span class="version"></span>  <nav class="languages">  <a href="index.html">English</a>    </nav>  <p class="description">A Simple Interactive Test Framework for Common Lisp</p>  <nav class="pages">  <a href="index.html">kaputt</a>    <a href="example/kaputt/index.html">kaputt/example</a>  </nav> </header> <section id="documentation"> </section>   <section id="system"> <h2>System Information</h2>    <div class="row"> <label for="author">Author:</label> <a id="author">MichaÃ«l Le Barbier</a> </div>   <div class="row"> <label for="license">License:</label> <a id="license" href="https://github.com/michipili/cl-kaputt/blob/master/LICENSE">MIT</a> </div>   <div class="row"> <label for="homepage">Homepage:</label> <a id="homepage" href="https://github.com/michipili/cl-kaputt">https://github.com/michipili/cl-kaputt</a> </div>   </section>    <section id="index"> <h2>Definition Index</h2> <ul> <li> <article class="definition package" id="PACKAGE KAPUTT"> <header> <h3> <a href="#PACKAGE%20KAPUTT">KAPUTT</a> </h3> <ul class="nicknames"></ul>  </header> <div class="docstring"><pre>The Kaputt Test Framewok.</pre></div> <ul class="definitions"> <li> <article class="definition special-variable" id="VARIABLE KAPUTT:*TESTCASE-PROTOCOL-CLASS*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20KAPUTT%3A%2ATESTCASE-PROTOCOL-CLASS%2A">*TESTCASE-PROTOCOL-CLASS*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L404">Source</a>  </header> <div class="docstring"><pre>The protocol class to use when running test suites.</pre></div> </article> </li>  <li> <article class="definition class" id="CLASS KAPUTT:PROTOCOL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20KAPUTT%3APROTOCOL">PROTOCOL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L83">Source</a>  </header> <div class="docstring"><pre>This class models test suite execution protocols.
When running a test suite, the progress and results of the execution
are recorded in a PROTOCOL instance.

Descendants of this class provide more functionalities.</pre></div> </article> </li>  <li> <article class="definition class" id="CLASS KAPUTT:PROTOCOL-COUNT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20KAPUTT%3APROTOCOL-COUNT">PROTOCOL-COUNT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L195">Source</a>  </header> <div class="docstring"><pre>A count protocol counts TESTCASE, ASSERTION, SUCCESS and FAILURE.</pre></div> </article> </li>  <li> <article class="definition class" id="CLASS KAPUTT:PROTOCOL-DOTTA"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20KAPUTT%3APROTOCOL-DOTTA">PROTOCOL-DOTTA</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L261">Source</a>  </header> <div class="docstring"><pre>A dotta protocol reports assertion progress with dots and capital letter E,
for success and errors respectively. At the end of a testsuite, it prints basic
counts describing the current testsuite and a detailed failure report.</pre></div> </article> </li>  <li> <article class="definition class" id="CLASS KAPUTT:PROTOCOL-RECORD"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20KAPUTT%3APROTOCOL-RECORD">PROTOCOL-RECORD</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L224">Source</a>  </header> <div class="docstring"><pre>A protocol record keeps track of all failures encountered in a test suite
and prints a detailed list of the failures when the test suite finishes.</pre></div> </article> </li>  <li> <article class="definition class" id="CLASS KAPUTT:PROTOCOL-TRACE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20KAPUTT%3APROTOCOL-TRACE">PROTOCOL-TRACE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L174">Source</a>  </header> <div class="docstring"><pre>A trace protocol reports each event sent to it.</pre></div> </article> </li>  <li> <article class="definition class" id="CLASS KAPUTT:PROTOCOL-VERBOSE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20KAPUTT%3APROTOCOL-VERBOSE">PROTOCOL-VERBOSE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L164">Source</a>  </header> <div class="docstring"><pre>A verbose protocol owns a STREAM-OUTPUT.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION KAPUTT:ASSERT-EQ"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20KAPUTT%3AASSERT-EQ">ASSERT-EQ</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">A</li>    <li class="argument">B</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L496">Source</a>  </header> <div class="docstring"><pre>The assertion (ASSERT-EQ A B) is true, iff A and B satisfy the EQ predicate.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION KAPUTT:ASSERT-EQL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20KAPUTT%3AASSERT-EQL">ASSERT-EQL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">A</li>    <li class="argument">B</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L500">Source</a>  </header> <div class="docstring"><pre>The assertion (ASSERT-EQL A B) is true, iff A and B satisfy the EQL predicate.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION KAPUTT:ASSERT-EQUAL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20KAPUTT%3AASSERT-EQUAL">ASSERT-EQUAL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">A</li>    <li class="argument">B</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L504">Source</a>  </header> <div class="docstring"><pre>The assertion (ASSERT-EQUAL A B) is true, iff A and B satisfy the EQUAL predicate.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION KAPUTT:ASSERT-FLOAT-IS-APPROXIMATELY-EQUAL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20KAPUTT%3AASSERT-FLOAT-IS-APPROXIMATELY-EQUAL">ASSERT-FLOAT-IS-APPROXIMATELY-EQUAL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">FLOAT1</li>    <li class="argument">FLOAT2</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">INACCURACY</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L648">Source</a>  </header> <div class="docstring"><pre>The assertion (ASSERT-FLOAT-IS-APPROXIMATELY-EQUAL FLOAT1 FLOAT2) is true iff FLOAT1 and FLOAT2
are in a neighbourhood whose size is based on the magnitude orders of FLOAT1 and FLOAT2 and the
floating point precision.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION KAPUTT:ASSERT-FLOAT-IS-DEFINITELY-GREATER-THAN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20KAPUTT%3AASSERT-FLOAT-IS-DEFINITELY-GREATER-THAN">ASSERT-FLOAT-IS-DEFINITELY-GREATER-THAN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">FLOAT1</li>    <li class="argument">FLOAT2</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">INACCURACY</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L632">Source</a>  </header> <div class="docstring"><pre>The assertion (ASSERT-FLOAT-IS-DEFINITELY-GREATER-THAN FLOAT1 FLOAT2) is true iff FLOAT1
is greater than FLOAT2 and not in a neighbourhood of FLOAT2 whose diameter is controlled
by the INACCURACY, the magnitude orders of FLOAT1 and FLOAT2 and the floating point precision.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION KAPUTT:ASSERT-FLOAT-IS-DEFINITELY-LESS-THAN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20KAPUTT%3AASSERT-FLOAT-IS-DEFINITELY-LESS-THAN">ASSERT-FLOAT-IS-DEFINITELY-LESS-THAN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">FLOAT1</li>    <li class="argument">FLOAT2</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">INACCURACY</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L615">Source</a>  </header> <div class="docstring"><pre>The assertion (ASSERT-FLOAT-IS-DEFINITELY-LESS-THAN FLOAT1 FLOAT2) is true iff FLOAT2
is greater than FLOAT1 and not in a neighbourhood of FLOAT1 whose diameter is controlled
by the INACCURACY, the magnitude orders of FLOAT1 and FLOAT2 and the floating point precision.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION KAPUTT:ASSERT-FLOAT-IS-ESSENTIALLY-EQUAL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20KAPUTT%3AASSERT-FLOAT-IS-ESSENTIALLY-EQUAL">ASSERT-FLOAT-IS-ESSENTIALLY-EQUAL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">FLOAT1</li>    <li class="argument">FLOAT2</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">INACCURACY</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L664">Source</a>  </header> <div class="docstring"><pre>The assertion (ASSERT-FLOAT-IS-ESSENTIALLY-EQUAL FLOAT1 FLOAT2) is true iff FLOAT1 and FLOAT2
are in a neighbourhood whose size is based on the magnitude orders of FLOAT1 and FLOAT2 and the
floating point precision.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION KAPUTT:ASSERT-NIL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20KAPUTT%3AASSERT-NIL">ASSERT-NIL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">EXPR</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L488">Source</a>  </header> <div class="docstring"><pre>The assertion (ASSERT-NIL EXPR) is true, iff EXPR is NIL.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION KAPUTT:ASSERT-SET-EQUAL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20KAPUTT%3AASSERT-SET-EQUAL">ASSERT-SET-EQUAL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">LIST1</li>    <li class="argument">LIST2</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">KEY</li>    <li class="argument">TEST</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L593">Source</a>  </header> <div class="docstring"><pre>The assertion (ASSERT-SET-EQUAL LIST1 LIST2) is true iff LIST1 denotes the same set as LIST2.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION KAPUTT:ASSERT-STRING-EQUAL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20KAPUTT%3AASSERT-STRING-EQUAL">ASSERT-STRING-EQUAL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">STRING1</li>    <li class="argument">STRING2</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">START1</li>    <li class="argument">END1</li>    <li class="argument">START2</li>    <li class="argument">END2</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L528">Source</a>  </header> <div class="docstring"><pre>The assertion (ASSERT-STRING-EQUAL STRING1 STRING2) is true, iff STRING1 and STRING2 satisfy the STRING-EQUAL predicate.
This assertion supports the same keyword parameters as STRING-EQUAL.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION KAPUTT:ASSERT-STRING&lt;"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20KAPUTT%3AASSERT-STRING%3C">ASSERT-STRING&lt;</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">STRING1</li>    <li class="argument">STRING2</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">START1</li>    <li class="argument">END1</li>    <li class="argument">START2</li>    <li class="argument">END2</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L538">Source</a>  </header> <div class="docstring"><pre>The assertion (ASSERT-STRING&lt; STRING1 STRING2) is true, iff STRING1 and STRING2 satisfy the STRING&lt; predicate.
This assertion supports the same keyword parameters as STRING&lt;.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION KAPUTT:ASSERT-STRING&lt;="> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20KAPUTT%3AASSERT-STRING%3C%3D">ASSERT-STRING&lt;=</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">STRING1</li>    <li class="argument">STRING2</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">START1</li>    <li class="argument">END1</li>    <li class="argument">START2</li>    <li class="argument">END2</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L548">Source</a>  </header> <div class="docstring"><pre>The assertion (ASSERT-STRING&lt;= STRING1 STRING2) is true, iff STRING1 and STRING2 satisfy the STRING&lt;= predicate.
This assertion supports the same keyword parameters as STRING&lt;=.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION KAPUTT:ASSERT-STRING="> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20KAPUTT%3AASSERT-STRING%3D">ASSERT-STRING=</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">STRING1</li>    <li class="argument">STRING2</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">START1</li>    <li class="argument">END1</li>    <li class="argument">START2</li>    <li class="argument">END2</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L533">Source</a>  </header> <div class="docstring"><pre>The assertion (ASSERT-STRING= STRING1 STRING2) is true, iff STRING1 and STRING2 satisfy the STRING= predicate.
This assertion supports the same keyword parameters as STRING=.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION KAPUTT:ASSERT-STRING&gt;"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20KAPUTT%3AASSERT-STRING%3E">ASSERT-STRING&gt;</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">STRING1</li>    <li class="argument">STRING2</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">START1</li>    <li class="argument">END1</li>    <li class="argument">START2</li>    <li class="argument">END2</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L543">Source</a>  </header> <div class="docstring"><pre>The assertion (ASSERT-STRING&gt; STRING1 STRING2) is true, iff STRING1 and STRING2 satisfy the STRING&gt; predicate.
This assertion supports the same keyword parameters as STRING&gt;.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION KAPUTT:ASSERT-STRING&gt;="> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20KAPUTT%3AASSERT-STRING%3E%3D">ASSERT-STRING&gt;=</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">STRING1</li>    <li class="argument">STRING2</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">START1</li>    <li class="argument">END1</li>    <li class="argument">START2</li>    <li class="argument">END2</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L553">Source</a>  </header> <div class="docstring"><pre>The assertion (ASSERT-STRING&gt;= STRING1 STRING2) is true, iff STRING1 and STRING2 satisfy the STRING&gt;= predicate.
This assertion supports the same keyword parameters as STRING&gt;=.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION KAPUTT:ASSERT-SUBSETP"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20KAPUTT%3AASSERT-SUBSETP">ASSERT-SUBSETP</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">LIST1</li>    <li class="argument">LIST2</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">KEY</li>    <li class="argument">TEST</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L558">Source</a>  </header> <div class="docstring"><pre>The assertion (ASSERT-SUBSETP LIST1 LIST2) is true iff LIST1 is a subset of LIST2.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION KAPUTT:ASSERT-T"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20KAPUTT%3AASSERT-T">ASSERT-T</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">EXPR</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L484">Source</a>  </header> <div class="docstring"><pre>The assertion (ASSERT-T EXPR) is true, iff EXPR is a true generalised boolean.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION KAPUTT:ASSERT-TYPE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20KAPUTT%3AASSERT-TYPE">ASSERT-TYPE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">EXPR</li>    <li class="argument">TYPE</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L492">Source</a>  </header> <div class="docstring"><pre>The assertion (ASSERT-TYPE EXPR TYPE) is true, iff EXPR evaluates to a value of type TYPE.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION KAPUTT:ASSERT-VECTOR-EQUAL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20KAPUTT%3AASSERT-VECTOR-EQUAL">ASSERT-VECTOR-EQUAL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VECTOR1</li>    <li class="argument">VECTOR2</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">TEST</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L566">Source</a>  </header> <div class="docstring"><pre>The assertion (ASSERT-VECTOR-EQUAL VECTOR1 VECTOR2) is true iff VECTOR1 and VECTOR2 are equal.
Vectors are equal if they have the same length and have equal elements at each
index. The equality predicate used to compare elements is either EQL or the predicate
provided by the :TEST keyword argument.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION KAPUTT:ASSERT&lt;"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20KAPUTT%3AASSERT%3C">ASSERT&lt;</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">A</li>    <li class="argument">B</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L512">Source</a>  </header> <div class="docstring"><pre>The assertion (ASSERT&lt; A B) is true, iff A and B satisfy the &lt; predicate.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION KAPUTT:ASSERT&lt;="> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20KAPUTT%3AASSERT%3C%3D">ASSERT&lt;=</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">A</li>    <li class="argument">B</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L520">Source</a>  </header> <div class="docstring"><pre>The assertion (ASSERT&lt;= A B) is true, iff A and B satisfy the &lt;= predicate.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION KAPUTT:ASSERT="> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20KAPUTT%3AASSERT%3D">ASSERT=</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">A</li>    <li class="argument">B</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L508">Source</a>  </header> <div class="docstring"><pre>The assertion (ASSERT= A B) is true, iff A and B satisfy the = predicate.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION KAPUTT:ASSERT&gt;"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20KAPUTT%3AASSERT%3E">ASSERT&gt;</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">A</li>    <li class="argument">B</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L516">Source</a>  </header> <div class="docstring"><pre>The assertion (ASSERT&gt; A B) is true, iff A and B satisfy the &gt; predicate.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION KAPUTT:ASSERT&gt;="> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20KAPUTT%3AASSERT%3E%3D">ASSERT&gt;=</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">A</li>    <li class="argument">B</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L524">Source</a>  </header> <div class="docstring"><pre>The assertion (ASSERT&gt;= A B) is true, iff A and B satisfy the &gt;= predicate.</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION KAPUTT:PROTOCOL-ASSERTION-BEGIN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20KAPUTT%3APROTOCOL-ASSERTION-BEGIN">PROTOCOL-ASSERTION-BEGIN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PROTOCOL</li>    <li class="argument">ASSERTION</li>    <li class="argument">ARGUMENTS</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L124">Source</a>  </header> <div class="docstring"><pre>This event is sent to a protocol when an assertion begins.</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION KAPUTT:PROTOCOL-ASSERTION-END"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20KAPUTT%3APROTOCOL-ASSERTION-END">PROTOCOL-ASSERTION-END</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PROTOCOL</li>    <li class="argument">ASSERTION</li>    <li class="argument">OUTCOME</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L131">Source</a>  </header> <div class="docstring"><pre>This event is sent to a protocol when an assertion ends.</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION KAPUTT:PROTOCOL-SUCCESS-P"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20KAPUTT%3APROTOCOL-SUCCESS-P">PROTOCOL-SUCCESS-P</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PROTOCOL</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L141">Source</a>  </header> <div class="docstring"><pre>This method tells if a test suite has never recorded a failure.</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION KAPUTT:PROTOCOL-TESTCASE-BEGIN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20KAPUTT%3APROTOCOL-TESTCASE-BEGIN">PROTOCOL-TESTCASE-BEGIN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PROTOCOL</li>    <li class="argument">TESTCASE</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L110">Source</a>  </header> <div class="docstring"><pre>This event is sent to a protocol when a test case begins.</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION KAPUTT:PROTOCOL-TESTCASE-END"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20KAPUTT%3APROTOCOL-TESTCASE-END">PROTOCOL-TESTCASE-END</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PROTOCOL</li>    <li class="argument">TESTCASE</li>    <li class="argument">OUTCOME</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L117">Source</a>  </header> <div class="docstring"><pre>This event is sent to a protocol when a test case ends.</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION KAPUTT:PROTOCOL-TESTSUITE-BEGIN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20KAPUTT%3APROTOCOL-TESTSUITE-BEGIN">PROTOCOL-TESTSUITE-BEGIN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PROTOCOL</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L92">Source</a>  </header> <div class="docstring"><pre>This event is sent to a protocol, when a test suite starts.
This is the appropriate place to prepare output files, register
starting time and so on.</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION KAPUTT:PROTOCOL-TESTSUITE-END"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20KAPUTT%3APROTOCOL-TESTSUITE-END">PROTOCOL-TESTSUITE-END</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PROTOCOL</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L101">Source</a>  </header> <div class="docstring"><pre>This event is sent to a protocol when a test suite ends.
This is the appopriate place to close output files, display
aggregated reports.</pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION KAPUTT:DEFINE-ASSERTION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20KAPUTT%3ADEFINE-ASSERTION">DEFINE-ASSERTION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ASSERTION-NAME</li>    <li class="argument">ASSERTION-ARGS</li>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">BODY</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L328">Source</a>  </header> <div class="docstring"><pre>Define an assertion function ASSERTION-NAME, accepting ASSERTION-ARGS with BODY.

The BODY is interpreted as computing a generalised boolean value,
which triggers an ASSERTION-FAILED when this boolean is NIL.

The ASSERTION-NAME must start with ASSERT-, ASSERT&lt;, ASSERT&gt; or ASSERT=.

When the first BODY form is a string, this string is used as an informational message
when reporting the corresponding error condition. It is also used as a documentaion
string for the created function.

When the next BODY form starts with the keyword :REPORT, then the rest of that form
must be function of a STREAM.  This function is then used to generate an informational
message when reporting the corresponding error condition. This allows to add dynamic
context to this informational messsage, like the value of some variables.</pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION KAPUTT:DEFINE-TESTCASE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20KAPUTT%3ADEFINE-TESTCASE">DEFINE-TESTCASE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">TESTCASE-NAME</li>    <li class="argument">TESTCASE-ARGS</li>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">BODY</li>  </ul>  <a class="source-link" href="https://github.com/michipili/cl-kaputt/blob/master/kaputt.lisp#L449">Source</a>  </header> <div class="docstring"><pre>Define a test case function TESTCASE-NAME, accepting TESTCASE-ARGS with BODY.

The BODY is examined and assertions spotted in it are wrapped with extra code
installing restarts and triggering protocol events.

Test cases are allowed to be nested.  A toplevel test case is a test suite and triggers testsuite
protocol events when beginning and ending.  The return value of a testcase is a boolean which
is true iff the current testsuite has experienced a failed assertion.  Thus, even if a test case
does not experience any failure, a NIL value is returned if a previous test case in the current
test suite has experienced a failure.</pre></div> </article> </li> </ul> </article> </li> </ul> </section>  </article> <script>window.addEventListener("DOMContentLoaded", function(){
    var unmarkElement = function(el){
        if(el.tagName === "mark" || el.tagName === "MARK"){
            [].forEach.call(el.childNodes, function(child){
                el.parentNode.insertBefore(child, el);
            });
            el.parentNode.removeChild(el);
        }else if(el.parentNode.tagName === "mark"){
            return unmarkElement(el.parentNode);
        }
        return null;
    }

    var unmarkAll = function(root){
        root = root || document;
        [].forEach.call(root.querySelectorAll("mark"), unmarkElement);
    }
    
    var markElement = function(el){
        if(el.parentNode.tagName === "mark" || el.parentNode.tagName === "MARK"){
            return el.parentNode;
        } else {
            unmarkAll();
            var marked = document.createElement("mark");
            el.parentNode.insertBefore(marked, el);
            marked.appendChild(el);
            return marked;
        }
    }

    var markFragmented = function(){
        if(window.location.hash){
            var el = document.getElementById(decodeURIComponent(window.location.hash.substr(1)));
            if(el) markElement(el);
        }
    }

    var registerXrefLink = function(link){
        var el = document.getElementById(decodeURIComponent(link.getAttribute("href").substr(1)));
        if(el){
            link.addEventListener("click", function(){
                markElement(el);
            });
        }
    }

    var registerXrefLinks = function(root){
        root = root || document;
        [].forEach.call(root.querySelectorAll("a.xref"), registerXrefLink);
    }

    markFragmented();
    registerXrefLinks();
}); </script> </body> </html> 